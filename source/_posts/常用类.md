---
title: 常用工具类和加密
date: 
tags: 工具类和加密
---

### 字符类

#### StringBuffer

|     方法名     |               用法                |                  说明                  |
| :------------: | :-------------------------------: | :------------------------------------: |
| deleteCharAt() | deleteCharAt(buffer.length() - 1) | 从字符串后面删除第几个字符最后一个为 1 |
|                |                                   |                                        |

#### StringBuilder

|  方法名   |                    用法                     |   说明   |
| :-------: | :-----------------------------------------: | :------: |
| reverse() | new StringBuilder(te).reverse().toString(); | 顺序反转 |
|           |                                             |          |

#### Bigdecimal

double和float无法精准的表示一个数，商业使用的一般都是Bigdecimal

|            方法            | 用法 |       说明       |
| :------------------------: | :--: | :--------------: |
|   add(BigDecimal value)    |  加  |                  |
| subtract(BigDecimal value) |  减  |                  |
| multiply(BigDecimal value) |  乘  |                  |
|  divide(BigDecimal value)  |  除  | 无法整除时会报错 |
|                            |      |                  |



|   方法   |       参数        |                             说明                             |
| :------: | :---------------: | :----------------------------------------------------------: |
| setScale |                   |                      进行截断和四舍五入                      |
|          |   ROUND_CEILING   |                       向正无穷方向舍入                       |
|          |    ROUND_DOWN     |                         向零方向舍入                         |
|          |    ROUND_FLOOR    |                       向负无穷方向舍入                       |
|          |  ROUND_HALF_DOWN  | 向（距离）最近的一边舍入，除非两边（的距离）是相等,如果是这样，向下舍入, 例如1.55 保留一位小数结果为1.5 |
|          |  ROUND_HALF_EVEN  | 向（距离）最近的一边舍入，除非两边（的距离）是相等,如果是这样，如果保留位数是奇数，使用ROUND_HALF_UP，如果是偶数，使用ROUND_HALF_DOWN |
|          |   ROUND_HALF_UP   | 向（距离）最近的一边舍入，除非两边（的距离）是相等,如果是这样，向上舍入, 1.55保留一位小数结果为1.6 |
|          | ROUND_UNNECESSARY |               计算结果是精确的，不需要舍入模式               |
|          |     ROUND_UP      |                      向远离0的方向舍入                       |

```java
setScale(3, RoundingMode.HALF_UP);    //保留3位小数，且四舍五入
```

**注意事项**

1. 商业计算使用Bigdecimal
2. 尽量使用参数类型为String的构造函数
3. Bigdecimal都是不可变的，在进行每一步运算时，都会产生一个新的对象，所以在做加减乘除运算时千万要保存操作后的值



### 加密算法

#### Base64编码

```java
import java.util.Base64;
Base64.getEncoder().encodeToString(jsonData.getBytes(StandardCharsets.UTF_8));
```

